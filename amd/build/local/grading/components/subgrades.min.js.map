{"version":3,"file":"subgrades.min.js","sources":["../../../../src/local/grading/components/subgrades.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module subgrades\n *\n * @module     mod_competvet/local/grading/components/subgrades\n * @copyright  2024 Bas Brands <bas@sonsbeekmedia.nl>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport CompetState from '../../competstate';\n\nconst gradingApp = document.querySelector('[data-region=\"grading-app\"]');\n\nconst stateWatcher = () => {\n    const stateVar = 'subgrades';\n    const gradeTabEval = gradingApp.querySelector('[data-region=\"grade-tab-eval\"]');\n    const gradeTabCertif = gradingApp.querySelector('[data-region=\"grade-tab-certif\"]');\n    const gradeTabList = gradingApp.querySelector('[data-region=\"grade-tab-list\"]');\n    const regionRenderer = (context) => {\n        gradeTabEval.innerHTML = '';\n        gradeTabCertif.innerHTML = '';\n        gradeTabList.innerHTML = '';\n        if (context[stateVar] === undefined) {\n            return;\n        }\n        const subgrades = context[stateVar];\n        if (subgrades.length === 0) {\n            return;\n        }\n        if (subgrades.EVALUATION_GRADE) {\n            gradeTabEval.innerHTML = subgrades.EVALUATION_GRADE;\n        }\n        if (subgrades.CERTIFICATION_GRADE) {\n            gradeTabCertif.innerHTML = subgrades.CERTIFICATION_GRADE;\n        }\n        if (subgrades.LIST_GRADE) {\n            gradeTabList.innerHTML = subgrades.LIST_GRADE;\n        }\n        return;\n    };\n    CompetState.subscribe(stateVar, regionRenderer);\n};\n\nstateWatcher();"],"names":["gradingApp","document","querySelector","gradeTabEval","gradeTabCertif","gradeTabList","subscribe","context","innerHTML","undefined","subgrades","length","EVALUATION_GRADE","CERTIFICATION_GRADE","LIST_GRADE","stateWatcher"],"mappings":";;;;;;;6EAyBMA,WAAaC,SAASC,cAAc,+BAErB,YAEXC,aAAeH,WAAWE,cAAc,kCACxCE,eAAiBJ,WAAWE,cAAc,oCAC1CG,aAAeL,WAAWE,cAAc,uDAuBlCI,UA1BK,aAIOC,aACpBJ,aAAaK,UAAY,GACzBJ,eAAeI,UAAY,GAC3BH,aAAaG,UAAY,QACCC,IAAtBF,QAAO,uBAGLG,UAAYH,QAAO,UACA,IAArBG,UAAUC,SAGVD,UAAUE,mBACVT,aAAaK,UAAYE,UAAUE,kBAEnCF,UAAUG,sBACVT,eAAeI,UAAYE,UAAUG,qBAErCH,UAAUI,aACVT,aAAaG,UAAYE,UAAUI,iBAO/CC"}